<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Product Details</title>
  <link rel="stylesheet" href="product.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  
</head>

<body>
  <div class="top-line"></div>
  <div class="container">
    <div id="productDetails"></div>
  </div>

  <script>
    const product = JSON.parse(localStorage.getItem("selectedProduct"));

    if (product) {
      const videoSearch = encodeURIComponent(product.name + " AI short demo");
      const videoEmbed = `
        <iframe src="https://www.youtube.com/embed?listType=search&list=${videoSearch}" allowfullscreen></iframe>
      `;

      document.getElementById("productDetails").innerHTML = `
        <div class="card">
          <div class="d-flex flex-column">
          <img src="${product.thumbnail?.url || 'default.jpg'}" alt="${product.name}" class="product-img">
          <h2 class="fw-bold mb-3">${product.name}</h2>
          <p class="text-muted">${product.tagline}</p>
          </div>

          <div class="mt-3">
            <span class="badge-custom">Created by: ${product.user?.name || "Unknown"}</span>
            <span class="badge-custom">‚≠ê ${product.votesCount} votes</span>
          </div>

          <div class="mt-4">
            <h4>üß† Overview</h4>
            <p>${product.description || "No detailed description available."}</p>
          </div>

          <div class="video-section mt-4">
            <h4>üé• AI Video Preview</h4>
            ${videoEmbed}
          </div>

          <div class="like-comment">
            <button>‚ù§Ô∏è Like</button>
            <button>üí¨ Comment</button>
          </div>

          <a href="${product.website}" target="_blank" class="visit-btn">Visit Website ‚Üí</a>
        </div>
      `;
    } else {
      document.getElementById("productDetails").innerHTML = `<p class='text-danger text-center'>‚ùå No product data found.</p>`;
    }
  </script>
</body>
</html>
